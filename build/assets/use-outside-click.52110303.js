import{e as d,h as v,F as s}from"./hidden.cc743816.js";import{o as p}from"./dom.7db5f4cf.js";import{a2 as E,e as w,B as L}from"./vendor.ab963d2a.js";function f(u,r,l){d||E(a=>{document.addEventListener(u,r,l),a(()=>document.removeEventListener(u,r,l))})}function g(u,r,l=L(()=>!0)){function a(e,c){if(!l.value||e.defaultPrevented)return;let n=c(e);if(n===null||!n.getRootNode().contains(n))return;let m=function o(t){return typeof t=="function"?o(t()):Array.isArray(t)||t instanceof Set?t:[t]}(u);for(let o of m){if(o===null)continue;let t=o instanceof HTMLElement?o:p(o);if(t!=null&&t.contains(n))return}return!v(n,s.Loose)&&n.tabIndex!==-1&&e.preventDefault(),r(e,n)}let i=w(null);f("mousedown",e=>{var c,n;l.value&&(i.value=((n=(c=e.composedPath)==null?void 0:c.call(e))==null?void 0:n[0])||e.target)},!0),f("click",e=>{!i.value||(a(e,()=>i.value),i.value=null)},!0),f("blur",e=>a(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{g as y};
