import{u as k,o as h,V as G,P as V,w as z,t as C,R as N}from"./dom.7db5f4cf.js";import{h as J,F as X,f as Y,a as Z,O as $,o as m}from"./hidden.cc743816.js";import{c as ee,p as te,l as F}from"./open-closed.ec16d171.js";import{b as le}from"./use-resolve-button-type.8fe970f7.js";import{y as ae}from"./use-outside-click.52110303.js";import{e as w,B as O,S as B,h as E,F as oe,m as j,K as ie,w as ne,a2 as ue,V as re,ac as L,W as se,P as D,o as M,f as U,k as K}from"./vendor.ab963d2a.js";function de(t){throw new Error("Unexpected object: "+t)}var S=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(S||{});function ve(t,a){let o=a.resolveItems();if(o.length<=0)return null;let v=a.resolveActiveIndex(),e=v!=null?v:-1,d=(()=>{switch(t.focus){case 0:return o.findIndex(i=>!a.resolveDisabled(i));case 1:{let i=o.slice().reverse().findIndex((b,p,g)=>e!==-1&&g.length-p-1>=e?!1:!a.resolveDisabled(b));return i===-1?i:o.length-1-i}case 2:return o.findIndex((i,b)=>b<=e?!1:!a.resolveDisabled(i));case 3:{let i=o.slice().reverse().findIndex(b=>!a.resolveDisabled(b));return i===-1?i:o.length-1-i}case 4:return o.findIndex(i=>a.resolveId(i)===t.id);case 5:return null;default:de(t)}})();return d===-1?v:d}function _(t={},a=null,o=[]){for(let[v,e]of Object.entries(t))q(o,H(a,v),e);return o}function H(t,a){return t?t+"["+a+"]":a}function q(t,a,o){if(Array.isArray(o))for(let[v,e]of o.entries())q(t,H(a,v.toString()),e);else o instanceof Date?t.push([a,o.toISOString()]):typeof o=="boolean"?t.push([a,o?"1":"0"]):typeof o=="string"?t.push([a,o]):typeof o=="number"?t.push([a,`${o}`]):o==null?t.push([a,""]):_(o,a,t)}function pe(t,a,o){let v=w(o==null?void 0:o.value),e=O(()=>t.value!==void 0);return[O(()=>e.value?t.value:v.value),function(d){return e.value||(v.value=d),a==null?void 0:a(d)}]}function ce(t,a){return t===a}var fe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(fe||{}),be=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(be||{}),xe=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(xe||{});function me(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let Q=Symbol("ListboxContext");function A(t){let a=re(Q,null);if(a===null){let o=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,A),o}return a}let Le=B({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ce},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:a,attrs:o,emit:v}){let e=w(1),d=w(null),i=w(null),b=w(null),p=w([]),g=w(""),l=w(null),n=w(1);function R(u=r=>r){let r=l.value!==null?p.value[l.value]:null,s=$(u(p.value.slice()),y=>h(y.dataRef.domRef)),f=r?s.indexOf(r):null;return f===-1&&(f=null),{options:s,activeOptionIndex:f}}let I=O(()=>t.multiple?1:0),[P,c]=pe(O(()=>t.modelValue),u=>v("update:modelValue",u),O(()=>t.defaultValue)),x={listboxState:e,value:P,mode:I,compare(u,r){if(typeof t.by=="string"){let s=t.by;return(u==null?void 0:u[s])===(r==null?void 0:r[s])}return t.by(u,r)},orientation:O(()=>t.horizontal?"horizontal":"vertical"),labelRef:d,buttonRef:i,optionsRef:b,disabled:O(()=>t.disabled),options:p,searchQuery:g,activeOptionIndex:l,activationTrigger:n,closeListbox(){t.disabled||e.value!==1&&(e.value=1,l.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(u,r,s){if(t.disabled||e.value===1)return;let f=R(),y=ve(u===S.Specific?{focus:S.Specific,id:r}:{focus:u},{resolveItems:()=>f.options,resolveActiveIndex:()=>f.activeOptionIndex,resolveId:T=>T.id,resolveDisabled:T=>T.dataRef.disabled});g.value="",l.value=y,n.value=s!=null?s:1,p.value=f.options},search(u){if(t.disabled||e.value===1)return;let r=g.value!==""?0:1;g.value+=u.toLowerCase();let s=(l.value!==null?p.value.slice(l.value+r).concat(p.value.slice(0,l.value+r)):p.value).find(y=>y.dataRef.textValue.startsWith(g.value)&&!y.dataRef.disabled),f=s?p.value.indexOf(s):-1;f===-1||f===l.value||(l.value=f,n.value=1)},clearSearch(){t.disabled||e.value!==1&&g.value!==""&&(g.value="")},registerOption(u,r){let s=R(f=>[...f,{id:u,dataRef:r}]);p.value=s.options,l.value=s.activeOptionIndex},unregisterOption(u){let r=R(s=>{let f=s.findIndex(y=>y.id===u);return f!==-1&&s.splice(f,1),s});p.value=r.options,l.value=r.activeOptionIndex,n.value=1},select(u){t.disabled||c(k(I.value,{[0]:()=>u,[1]:()=>{let r=L(x.value.value).slice(),s=L(u),f=r.findIndex(y=>x.compare(s,L(y)));return f===-1?r.push(s):r.splice(f,1),r}}))}};return ae([i,b],(u,r)=>{var s;x.closeListbox(),J(r,X.Loose)||(u.preventDefault(),(s=h(i))==null||s.focus())},O(()=>e.value===0)),se(Q,x),ee(O(()=>k(e.value,{[0]:F.Open,[1]:F.Closed}))),()=>{let{name:u,modelValue:r,disabled:s,...f}=t,y={open:e.value===0,disabled:s,value:P.value};return E(oe,[...u!=null&&P.value!=null?_({[u]:P.value}).map(([T,W])=>E(Y,G({features:Z.Hidden,key:T,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:T,value:W}))):[],V({ourProps:{},theirProps:{...o,...z(f,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:y,slots:a,attrs:o,name:"Listbox"})])}}});B({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(t,{attrs:a,slots:o}){let v=A("ListboxLabel"),e=`headlessui-listbox-label-${C()}`;function d(){var i;(i=h(v.buttonRef))==null||i.focus({preventScroll:!0})}return()=>{let i={open:v.listboxState.value===0,disabled:v.disabled.value},b={id:e,ref:v.labelRef,onClick:d};return V({ourProps:b,theirProps:t,slot:i,attrs:a,slots:o,name:"ListboxLabel"})}}});let Re=B({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},setup(t,{attrs:a,slots:o,expose:v}){let e=A("ListboxButton"),d=`headlessui-listbox-button-${C()}`;v({el:e.buttonRef,$el:e.buttonRef});function i(l){switch(l.key){case m.Space:case m.Enter:case m.ArrowDown:l.preventDefault(),e.openListbox(),D(()=>{var n;(n=h(e.optionsRef))==null||n.focus({preventScroll:!0}),e.value.value||e.goToOption(S.First)});break;case m.ArrowUp:l.preventDefault(),e.openListbox(),D(()=>{var n;(n=h(e.optionsRef))==null||n.focus({preventScroll:!0}),e.value.value||e.goToOption(S.Last)});break}}function b(l){switch(l.key){case m.Space:l.preventDefault();break}}function p(l){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),D(()=>{var n;return(n=h(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})})):(l.preventDefault(),e.openListbox(),me(()=>{var n;return(n=h(e.optionsRef))==null?void 0:n.focus({preventScroll:!0})})))}let g=le(O(()=>({as:t.as,type:a.type})),e.buttonRef);return()=>{var l,n;let R={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},I={ref:e.buttonRef,id:d,type:g.value,"aria-haspopup":!0,"aria-controls":(l=h(e.optionsRef))==null?void 0:l.id,"aria-expanded":e.disabled.value?void 0:e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(n=h(e.labelRef))==null?void 0:n.id,d].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:b,onClick:p};return V({ourProps:I,theirProps:t,slot:R,attrs:a,slots:o,name:"ListboxButton"})}}}),Ie=B({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:a,slots:o,expose:v}){let e=A("ListboxOptions"),d=`headlessui-listbox-options-${C()}`,i=w(null);v({el:e.optionsRef,$el:e.optionsRef});function b(l){switch(i.value&&clearTimeout(i.value),l.key){case m.Space:if(e.searchQuery.value!=="")return l.preventDefault(),l.stopPropagation(),e.search(l.key);case m.Enter:if(l.preventDefault(),l.stopPropagation(),e.activeOptionIndex.value!==null){let n=e.options.value[e.activeOptionIndex.value];e.select(n.dataRef.value)}e.mode.value===0&&(e.closeListbox(),D(()=>{var n;return(n=h(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})}));break;case k(e.orientation.value,{vertical:m.ArrowDown,horizontal:m.ArrowRight}):return l.preventDefault(),l.stopPropagation(),e.goToOption(S.Next);case k(e.orientation.value,{vertical:m.ArrowUp,horizontal:m.ArrowLeft}):return l.preventDefault(),l.stopPropagation(),e.goToOption(S.Previous);case m.Home:case m.PageUp:return l.preventDefault(),l.stopPropagation(),e.goToOption(S.First);case m.End:case m.PageDown:return l.preventDefault(),l.stopPropagation(),e.goToOption(S.Last);case m.Escape:l.preventDefault(),l.stopPropagation(),e.closeListbox(),D(()=>{var n;return(n=h(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})});break;case m.Tab:l.preventDefault(),l.stopPropagation();break;default:l.key.length===1&&(e.search(l.key),i.value=setTimeout(()=>e.clearSearch(),350));break}}let p=te(),g=O(()=>p!==null?p.value===F.Open:e.listboxState.value===0);return()=>{var l,n,R,I;let P={open:e.listboxState.value===0},c={"aria-activedescendant":e.activeOptionIndex.value===null||(l=e.options.value[e.activeOptionIndex.value])==null?void 0:l.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(I=(n=h(e.labelRef))==null?void 0:n.id)!=null?I:(R=h(e.buttonRef))==null?void 0:R.id,"aria-orientation":e.orientation.value,id:d,onKeydown:b,role:"listbox",tabIndex:0,ref:e.optionsRef};return V({ourProps:c,theirProps:t,slot:P,attrs:a,slots:o,features:N.RenderStrategy|N.Static,visible:g.value,name:"ListboxOptions"})}}}),Pe=B({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(t,{slots:a,attrs:o,expose:v}){let e=A("ListboxOption"),d=`headlessui-listbox-option-${C()}`,i=w(null);v({el:i,$el:i});let b=O(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===d:!1),p=O(()=>k(e.mode.value,{[0]:()=>e.compare(L(e.value.value),L(t.value)),[1]:()=>L(e.value.value).some(c=>e.compare(L(c),L(t.value)))})),g=O(()=>k(e.mode.value,{[1]:()=>{var c;let x=L(e.value.value);return((c=e.options.value.find(u=>x.some(r=>e.compare(L(r),L(u.dataRef.value)))))==null?void 0:c.id)===d},[0]:()=>p.value})),l=O(()=>({disabled:t.disabled,value:t.value,textValue:"",domRef:i}));j(()=>{var c,x;let u=(x=(c=h(i))==null?void 0:c.textContent)==null?void 0:x.toLowerCase().trim();u!==void 0&&(l.value.textValue=u)}),j(()=>e.registerOption(d,l)),ie(()=>e.unregisterOption(d)),j(()=>{ne([e.listboxState,p],()=>{e.listboxState.value===0&&(!p.value||k(e.mode.value,{[1]:()=>{g.value&&e.goToOption(S.Specific,d)},[0]:()=>{e.goToOption(S.Specific,d)}}))},{immediate:!0})}),ue(()=>{e.listboxState.value===0&&(!b.value||e.activationTrigger.value!==0&&D(()=>{var c,x;return(x=(c=h(i))==null?void 0:c.scrollIntoView)==null?void 0:x.call(c,{block:"nearest"})}))});function n(c){if(t.disabled)return c.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),D(()=>{var x;return(x=h(e.buttonRef))==null?void 0:x.focus({preventScroll:!0})}))}function R(){if(t.disabled)return e.goToOption(S.Nothing);e.goToOption(S.Specific,d)}function I(){t.disabled||b.value||e.goToOption(S.Specific,d,0)}function P(){t.disabled||!b.value||e.goToOption(S.Nothing)}return()=>{let{disabled:c}=t,x={active:b.value,selected:p.value,disabled:c},u={id:d,ref:i,role:"option",tabIndex:c===!0?void 0:-1,"aria-disabled":c===!0?!0:void 0,"aria-selected":p.value,disabled:void 0,onClick:n,onFocus:R,onPointermove:I,onMousemove:I,onPointerleave:P,onMouseleave:P};return V({ourProps:u,theirProps:z(t,["value","disabled"]),slot:x,attrs:o,slots:a,name:"ListboxOption"})}}});function ke(t,a){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[K("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z","clip-rule":"evenodd"})])}function De(t,a){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[K("path",{"fill-rule":"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z","clip-rule":"evenodd"})])}export{Pe as A,Re as I,Le as M,Ie as V,ke as a,De as r};
