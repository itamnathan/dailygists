import{ref as o,watch as k,nextTick as R,onMounted as j,computed as B,unref as s,useSSRContext as I}from"vue";import{ssrRenderAttrs as T,ssrInterpolate as c,ssrRenderAttr as d,ssrRenderList as b,ssrRenderClass as m}from"vue/server-renderer";import{u as _}from"./editor.79190857.mjs";import{storeToRefs as A}from"pinia";import{useForm as E}from"@inertiajs/inertia-vue3";import{_ as L}from"./_plugin-vue_export-helper.43be4956.mjs";const x={__name:"SelectCategory",__ssrInlineRender:!0,props:{name:{type:String,default:""},allowCustom:{type:Boolean,default:!0},showCount:{type:Boolean,default:!0}},setup(n){E({name:""});const f=_(),{categories:a}=A(f),r=o([]),w=o(""),p=Math.random().toString(36).substring(7),y=o(null),h=o(10),u=o(null),C=()=>{h.value=u.value.clientWidth+15,u.value.scrollTo(u.value.scrollWidth,0)};k(a,()=>R(C),{deep:!0}),j(()=>{$()});function $(){axios.get("/api/categories").then(t=>{let e=[];e=t.data.filter(i=>!r.value.find(v=>i===v)),e.forEach(i=>{r.value.push(i)}),r.value=t.data})}const S=B(()=>r.value?r.value.filter(t=>!a.value.includes(t)):!1);return(t,e,i,v)=>{e(`<div${T(v)} data-v-f13b2a9e><div class="flex justify-between items-center mx-2" data-v-f13b2a9e><label for="components-form-token-input-1" class="text-sm pt-4" data-v-f13b2a9e>Select Category</label>`),n.showCount?e(`<div class="count" data-v-f13b2a9e><span data-v-f13b2a9e>${c(s(a).length)}</span> cats </div>`):e("<!---->"),e("</div>"),r.value?(e(`<div${d("id",s(p))} data-v-f13b2a9e><ul class="flex flex-auto flex-wrap" data-v-f13b2a9e><!--[-->`),b(s(S),l=>{e(`<li${d("value",l)} class="flex justify-center items-center m-1 font-medium py-1 px-2 bg-white rounded-full text-teal-700 bg-teal-100 border border-teal-300" data-v-f13b2a9e><div class="text-xs font-normal leading-none max-w-full flex-initial" data-v-f13b2a9e>${c(l.name)}</div><div class="flex flex-auto flex-row-reverse" data-v-f13b2a9e><div data-v-f13b2a9e><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x cursor-pointer hover:text-teal-400 rounded-full w-4 h-4 ml-2 rotate-45" data-v-f13b2a9e><line x1="18" y1="6" x2="6" y2="18" data-v-f13b2a9e></line><line x1="6" y1="6" x2="18" y2="18" data-v-f13b2a9e></line></svg></div></div></li>`)}),e("<!--]--></ul></div>")):e("<!---->"),e(`<div class="pt-4" tabindex="-1" data-v-f13b2a9e><div class="${m([{"with-count":n.showCount},"cat-input"])}" data-v-f13b2a9e>`),t.$page.props.auth.user.type==4||t.$page.props.auth.user.type==6?e(`<input${d("value",w.value)} type="text"${d("list",s(p))} placeholder="create new category...." autocomplete="off" class="border-0 border-b-[0.2px] border-gray-900/50 focus:ring-0 focus:border-black" data-v-f13b2a9e>`):e("<!---->"),t.$page.props.auth.user.type!=4||t.$page.props.auth.user.type!=6?e('<div class="border-b text-sm text-gray-600" data-v-f13b2a9e> Selected </div>'):e("<!---->"),e('<ul class="flex-wrap mt-4 no-scrollbar" data-v-f13b2a9e><!--[-->'),b(s(a),(l,M)=>{e(`<li class="${m([{duplicate:l===y.value},"cat flex justify-center items-center m-1 font-medium py-1 px-2 bg-white rounded-full text-teal-700 bg-teal-100 border border-teal-300"])}" data-v-f13b2a9e><div class="text-xs font-normal leading-none max-w-full flex-initial" data-v-f13b2a9e>${c(l.name)}</div><div class="flex flex-auto flex-row-reverse" data-v-f13b2a9e><div class="cursor-pointer" data-v-f13b2a9e><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x cursor-pointer text-red-300 hover:text-red-600 rounded-full w-4 h-4 ml-2" data-v-f13b2a9e><line x1="18" y1="6" x2="6" y2="18" data-v-f13b2a9e></line><line x1="6" y1="6" x2="18" y2="18" data-v-f13b2a9e></line></svg></div></div></li>`)}),e("<!--]--></ul></div></div></div>")}}},g=x.setup;x.setup=(n,f)=>{const a=I();return(a.modules||(a.modules=new Set)).add("resources/js/Components/SelectCategory.vue"),g?g(n,f):void 0};const D=L(x,[["__scopeId","data-v-f13b2a9e"]]);export{D as default};
