import{P as D,o as I,u as q,t as A,R as oe}from"./dom.7db5f4cf.js";import{e as ue,m as M,f as Y,a as _,w as L,P as K,M as z,N as De,o as Se}from"./hidden.cc743816.js";import{a2 as k,e as d,S,B as f,h as b,F as Fe,m as T,w as ee,K as C,W as N,V as j,T as Ee,U as $e,u as Te,P as Oe}from"./vendor.ab963d2a.js";import{t as Re}from"./micro-task.fe338338.js";import{p as ke,l as ae}from"./open-closed.ec16d171.js";import{y as Ae}from"./use-outside-click.52110303.js";import{s as Ce}from"./transition.a6e787c7.js";function je(e,l,a){ue||k(o=>{window.addEventListener(e,l,a),o(()=>window.removeEventListener(e,l,a))})}var J=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(J||{});function Be(){let e=d(0);return je("keydown",l=>{l.key==="Tab"&&(e.value=l.shiftKey?1:0)}),e}function se(e,l,a,o){ue||k(n=>{e=e!=null?e:window,e.addEventListener(l,a,o),n(()=>e.removeEventListener(l,a,o))})}var de=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(de||{});let x=Object.assign(S({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:Object,default:d(new Set)}},inheritAttrs:!1,setup(e,{attrs:l,slots:a,expose:o}){let n=d(null);o({el:n,$el:n});let t=f(()=>M(n));xe({ownerDocument:t},f(()=>Boolean(e.features&16)));let r=Le({ownerDocument:t,container:n,initialFocus:f(()=>e.initialFocus)},f(()=>Boolean(e.features&2)));Ie({ownerDocument:t,container:n,containers:e.containers,previousActiveElement:r},f(()=>Boolean(e.features&8)));let i=Be();function s(){let u=I(n);!u||q(i.value,{[J.Forwards]:()=>K(u,z.First),[J.Backwards]:()=>K(u,z.Last)})}return()=>{let u={},v={ref:n},{features:p,initialFocus:P,containers:H,...h}=e;return b(Fe,[Boolean(p&4)&&b(Y,{as:"button",type:"button",onFocus:s,features:_.Focusable}),D({ourProps:v,theirProps:{...l,...h},slot:u,attrs:l,slots:a,name:"FocusTrap"}),Boolean(p&4)&&b(Y,{as:"button",type:"button",onFocus:s,features:_.Focusable})])}}}),{features:de});function xe({ownerDocument:e},l){let a=d(null);function o(){var t;a.value||(a.value=(t=e.value)==null?void 0:t.activeElement)}function n(){!a.value||(L(a.value),a.value=null)}T(()=>{ee(l,(t,r)=>{t!==r&&(t?o():n())},{immediate:!0})}),C(n)}function Le({ownerDocument:e,container:l,initialFocus:a},o){let n=d(null),t=d(!1);return T(()=>t.value=!0),C(()=>t.value=!1),T(()=>{ee([l,a,o],(r,i)=>{if(r.every((u,v)=>(i==null?void 0:i[v])===u)||!o.value)return;let s=I(l);!s||Re(()=>{var u,v;if(!t.value)return;let p=I(a),P=(u=e.value)==null?void 0:u.activeElement;if(p){if(p===P){n.value=P;return}}else if(s.contains(P)){n.value=P;return}p?L(p):K(s,z.First|z.NoScroll)===De.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),n.value=(v=e.value)==null?void 0:v.activeElement})},{immediate:!0,flush:"post"})}),n}function Ie({ownerDocument:e,container:l,containers:a,previousActiveElement:o},n){var t;se((t=e.value)==null?void 0:t.defaultView,"focus",r=>{if(!n.value)return;let i=new Set(a==null?void 0:a.value);i.add(l);let s=o.value;if(!s)return;let u=r.target;u&&u instanceof HTMLElement?Me(i,u)?(o.value=u,L(u)):(r.preventDefault(),r.stopPropagation(),L(s)):L(o.value)},!0)}function Me(e,l){var a;for(let o of e)if((a=o.value)!=null&&a.contains(l))return!0;return!1}let ne="body > *",R=new Set,$=new Map;function re(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function ie(e){let l=$.get(e);!l||(l["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",l["aria-hidden"]),e.inert=l.inert)}function Ne(e,l=d(!0)){k(a=>{if(!l.value||!e.value)return;let o=e.value,n=M(o);if(n){R.add(o);for(let t of $.keys())t.contains(o)&&(ie(t),$.delete(t));n.querySelectorAll(ne).forEach(t=>{if(t instanceof HTMLElement){for(let r of R)if(t.contains(r))return;R.size===1&&($.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),re(t))}}),a(()=>{if(R.delete(o),R.size>0)n.querySelectorAll(ne).forEach(t=>{if(t instanceof HTMLElement&&!$.has(t)){for(let r of R)if(t.contains(r))return;$.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),re(t)}});else for(let t of $.keys())ie(t),$.delete(t)})}})}let pe=Symbol("ForcePortalRootContext");function Ue(){return j(pe,!1)}let Q=S({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:l,attrs:a}){return N(pe,e.force),()=>{let{force:o,...n}=e;return D({theirProps:n,ourProps:{},slot:{},slots:l,attrs:a,name:"ForcePortalRoot"})}}});function He(e){let l=M(e);if(!l){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let a=l.getElementById("headlessui-portal-root");if(a)return a;let o=l.createElement("div");return o.setAttribute("id","headlessui-portal-root"),l.body.appendChild(o)}let ce=S({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:l,attrs:a}){let o=d(null),n=f(()=>M(o)),t=Ue(),r=j(fe,null),i=d(t===!0||r==null?He(o.value):r.resolveTarget());return k(()=>{t||r!=null&&(i.value=r.resolveTarget())}),C(()=>{var s,u;let v=(s=n.value)==null?void 0:s.getElementById("headlessui-portal-root");!v||i.value===v&&i.value.children.length<=0&&((u=i.value.parentElement)==null||u.removeChild(i.value))}),()=>{if(i.value===null)return null;let s={ref:o,"data-headlessui-portal":""};return b(Ee,{to:i.value},D({ourProps:s,theirProps:e,slot:{},attrs:a,slots:l,name:"Portal"}))}}}),fe=Symbol("PortalGroupContext"),Ve=S({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:l,slots:a}){let o=$e({resolveTarget(){return e.target}});return N(fe,o),()=>{let{target:n,...t}=e;return D({theirProps:t,ourProps:{},slot:{},attrs:l,slots:a,name:"PortalGroup"})}}}),ve=Symbol("StackContext");var Z=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Z||{});function We(){return j(ve,()=>{})}function Ge({type:e,enabled:l,element:a,onUpdate:o}){let n=We();function t(...r){o==null||o(...r),n(...r)}T(()=>{ee(l,(r,i)=>{r?t(0,e,a):i===!0&&t(1,e,a)},{immediate:!0,flush:"sync"})}),C(()=>{l.value&&t(1,e,a)}),N(ve,t)}let me=Symbol("DescriptionContext");function qe(){let e=j(me,null);if(e===null)throw new Error("Missing parent");return e}function ze({slot:e=d({}),name:l="Description",props:a={}}={}){let o=d([]);function n(t){return o.value.push(t),()=>{let r=o.value.indexOf(t);r!==-1&&o.value.splice(r,1)}}return N(me,{register:n,slot:e,name:l,props:a}),f(()=>o.value.length>0?o.value.join(" "):void 0)}let lt=S({name:"Description",props:{as:{type:[Object,String],default:"p"}},setup(e,{attrs:l,slots:a}){let o=qe(),n=`headlessui-description-${A()}`;return T(()=>C(o.register(n))),()=>{let{name:t="Description",slot:r=d({}),props:i={}}=o,s=e,u={...Object.entries(i).reduce((v,[p,P])=>Object.assign(v,{[p]:Te(P)}),{}),id:n};return D({ourProps:u,theirProps:s,slot:r.value,attrs:l,slots:a,name:t})}}});function Ye(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var _e=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(_e||{});let X=Symbol("DialogContext");function U(e){let l=j(X,null);if(l===null){let a=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,U),a}return l}let G="DC8F892D-2EBD-447C-A4C8-A03058436FF4",ot=S({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:G},initialFocus:{type:Object,default:null}},emits:{close:e=>!0},setup(e,{emit:l,attrs:a,slots:o,expose:n}){var t;let r=d(!1);T(()=>{r.value=!0});let i=d(0),s=ke(),u=f(()=>e.open===G&&s!==null?q(s.value,{[ae.Open]:!0,[ae.Closed]:!1}):e.open),v=d(new Set),p=d(null),P=d(null),H=f(()=>M(p));if(n({el:p,$el:p}),!(e.open!==G||s!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof u.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${u.value===G?void 0:e.open}`);let h=f(()=>r.value&&u.value?0:1),te=f(()=>h.value===0),V=f(()=>i.value>1),ge=j(X,null)!==null,he=f(()=>V.value?"parent":"leaf");Ne(p,f(()=>V.value?te.value:!1)),Ge({type:"Dialog",enabled:f(()=>h.value===0),element:p,onUpdate:(c,g,m)=>{if(g==="Dialog")return q(c,{[Z.Add](){v.value.add(m),i.value+=1},[Z.Remove](){v.value.delete(m),i.value-=1}})}});let we=ze({name:"DialogDescription",slot:f(()=>({open:u.value}))}),be=`headlessui-dialog-${A()}`,W=d(null),O={titleId:W,panelRef:d(null),dialogState:h,setTitleId(c){W.value!==c&&(W.value=c)},close(){l("close",!1)}};return N(X,O),Ae(()=>{var c,g,m;return[...Array.from((g=(c=H.value)==null?void 0:c.querySelectorAll("body > *, [data-headlessui-portal]"))!=null?g:[]).filter(y=>!(!(y instanceof HTMLElement)||y.contains(I(P))||O.panelRef.value&&y.contains(O.panelRef.value))),(m=O.panelRef.value)!=null?m:p.value]},(c,g)=>{O.close(),Oe(()=>g==null?void 0:g.focus())},f(()=>h.value===0&&!V.value)),se((t=H.value)==null?void 0:t.defaultView,"keydown",c=>{c.defaultPrevented||c.key===Se.Escape&&h.value===0&&(V.value||(c.preventDefault(),c.stopPropagation(),O.close()))}),k(c=>{var g;if(h.value!==0||ge)return;let m=H.value;if(!m)return;let y=Ce();function w(E,B,ye){let Pe=E.style.getPropertyValue(B);return Object.assign(E.style,{[B]:ye}),y.add(()=>{Object.assign(E.style,{[B]:Pe})})}let F=m==null?void 0:m.documentElement,le=((g=m.defaultView)!=null?g:window).innerWidth-F.clientWidth;if(w(F,"overflow","hidden"),le>0){let E=F.clientWidth-F.offsetWidth,B=le-E;w(F,"paddingRight",`${B}px`)}if(Ye()){let E=window.pageYOffset;w(F,"position","fixed"),w(F,"marginTop",`-${E}px`),w(F,"width","100%"),y.add(()=>window.scrollTo(0,E))}c(y.dispose)}),k(c=>{if(h.value!==0)return;let g=I(p);if(!g)return;let m=new IntersectionObserver(y=>{for(let w of y)w.boundingClientRect.x===0&&w.boundingClientRect.y===0&&w.boundingClientRect.width===0&&w.boundingClientRect.height===0&&O.close()});m.observe(g),c(()=>m.disconnect())}),()=>{let c={...a,ref:p,id:be,role:"dialog","aria-modal":h.value===0?!0:void 0,"aria-labelledby":W.value,"aria-describedby":we.value},{open:g,initialFocus:m,...y}=e,w={open:h.value===0};return b(Q,{force:!0},()=>[b(ce,()=>b(Ve,{target:p.value},()=>b(Q,{force:!1},()=>b(x,{initialFocus:m,containers:v,features:te.value?q(he.value,{parent:x.features.RestoreFocus,leaf:x.features.All&~x.features.FocusLock}):x.features.None},()=>D({ourProps:c,theirProps:y,slot:w,attrs:a,slots:o,visible:h.value===0,features:oe.RenderStrategy|oe.Static,name:"Dialog"}))))),b(Y,{features:_.Hidden,ref:P})])}}}),at=S({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:l,slots:a}){let o=U("DialogOverlay"),n=`headlessui-dialog-overlay-${A()}`;function t(r){r.target===r.currentTarget&&(r.preventDefault(),r.stopPropagation(),o.close())}return()=>D({ourProps:{id:n,"aria-hidden":!0,onClick:t},theirProps:e,slot:{open:o.dialogState.value===0},attrs:l,slots:a,name:"DialogOverlay"})}});S({name:"DialogBackdrop",props:{as:{type:[Object,String],default:"div"}},inheritAttrs:!1,setup(e,{attrs:l,slots:a,expose:o}){let n=U("DialogBackdrop"),t=`headlessui-dialog-backdrop-${A()}`,r=d(null);return o({el:r,$el:r}),T(()=>{if(n.panelRef.value===null)throw new Error("A <DialogBackdrop /> component is being used, but a <DialogPanel /> component is missing.")}),()=>{let i=e,s={id:t,ref:r,"aria-hidden":!0};return b(Q,{force:!0},()=>b(ce,()=>D({ourProps:s,theirProps:{...l,...i},slot:{open:n.dialogState.value===0},attrs:l,slots:a,name:"DialogBackdrop"})))}}});let nt=S({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:l,slots:a,expose:o}){let n=U("DialogPanel"),t=`headlessui-dialog-panel-${A()}`;o({el:n.panelRef,$el:n.panelRef});function r(i){i.stopPropagation()}return()=>{let i={id:t,ref:n.panelRef,onClick:r};return D({ourProps:i,theirProps:e,slot:{open:n.dialogState.value===0},attrs:l,slots:a,name:"DialogPanel"})}}}),rt=S({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"}},setup(e,{attrs:l,slots:a}){let o=U("DialogTitle"),n=`headlessui-dialog-title-${A()}`;return T(()=>{o.setTitleId(n),C(()=>o.setTitleId(null))}),()=>D({ourProps:{id:n},theirProps:e,slot:{open:o.dialogState.value===0},attrs:l,slots:a,name:"DialogTitle"})}});export{ot as N,rt as U,at as V,nt as _};
