import{B as m,a1 as k,e as T,l as C,U as j,m as w,Y as B,o as U,j as V,n as a,k as e,s as i,p as E,y as $,u as n,C as b}from"./vendor.ab963d2a.js";import f from"./TagInput.8274ccfd.js";import{_ as z}from"./FrontendLayout.ab538784.js";import{C as F,u as M,a as N}from"./ckeditor.a20681db.js";import"./vue-multiselect.css_vue_type_style_index_0_src_true_lang.df920d13.js";import"./app.5b96fbb3.js";import"./menu.a8c4f232.js";const S={class:"mx-6"},q={class:"mb-6"},D=e("label",{class:"font-bold mb-6"},"Tags",-1),H=e("span",null," Update Conversation",-1),I={class:"sm:hidden mb-6"},K=e("label",{class:"font-bold mb-6"},"Tags",-1),O={components:{ckeditor:F.component}},W=Object.assign(O,{__name:"Edit",setup(P){const l=m(()=>b().props.value.thread),g=M(),{tags:d,selectedTags:u}=k(g),c=T();function h(){let t=c.value;t.style.height="18px",t.style.height=t.scrollHeight+"px"}const s=C({subject:l.value.subject,body:l.value.body,tags:d.value});let v=N;const _=j({toolbar:{items:["heading","bold","italic","link","blockquote","bulletedlist","numberedlist","undo","redo"]}});function p(){s.put(route("threads.update",l.value.slug),{errorBag:"submitThread",preserveScroll:!0})}function x(t){d.value.push(t.id)}return w(()=>{u.value=m(()=>b().props.value.selectedTags),u.value.forEach(x)}),(t,o)=>{const y=B("ckeditor");return U(),V(z,null,{aside:a(()=>[e("div",S,[e("div",q,[D,i(f)]),e("button",{onClick:p,class:"bg-greenish border border-transparent rounded py-2 px-4 inline-flex justify-center text-lg leading-6 text-white hover:bg-green-600"}," Update Thread ")])]),cover:a(()=>[]),header:a(()=>[e("div",{class:"py-4 text-lg font-bold w-full flex justify-between"},[H,e("button",{onClick:p,class:"sm:hidden bg-greenish border border-transparent rounded py-2 px-4 inline-flex justify-center text-lg leading-6 text-white hover:bg-green-600"}," Update Thread ")])]),default:a(()=>[e("div",null,[E(e("textarea",{placeholder:"Title","onUpdate:modelValue":o[0]||(o[0]=r=>n(s).subject=r),onInput:o[1]||(o[1]=r=>h()),ref_key:"textarea",ref:c,class:"no-scrollbar w-full py-1 overscroll-x-none resize-none border-0 focus:ring-0 font-serif bg-transparent text-[44px] font-semibold px-0 leading-none"},`\r
      `,544),[[$,n(s).subject]])]),e("div",I,[K,i(f)]),i(y,{editor:n(v),modelValue:n(s).body,"onUpdate:modelValue":o[2]||(o[2]=r=>n(s).body=r),onBlur:t.togglesaving,config:_},null,8,["editor","modelValue","onBlur","config"])]),_:1})}}});export{W as default};
