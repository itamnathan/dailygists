import{e as k,l as g,m as h,o as n,f as l,k as e,F as v,q as x,i as u,s as o,n as a,t as y,j as b,z as c,u as r,D as T}from"./vendor.ab963d2a.js";import w from"./Ago.882a37c3.js";import V from"./InputError.e12f9b9e.js";import $ from"./InputLabel.45ae6166.js";import{_ as C}from"./DangerButton.cba0c7cc.js";import A from"./PrimaryButton.66eac2e0.js";import B from"./TextInput.d77fc545.js";import N from"./FormSection.e0de79f6.js";import"./moment.9709ab41.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./SectionTitle.2645b547.js";const S={"aria-labelledby":"api_token_settings_heading",class:"mt-6"},I={key:0},P=e("div",{class:"my-2 mb-4"},[e("h2",{id:"api_token_settings_heading",class:"text-lg leading-6 font-medium text-gray-900"}," API Tokens ")],-1),D={class:"shadow sm:rounded-md sm:overflow-hidden"},F={class:"bg-white py-6 px-4 space-y-6 sm:p-6"},j={class:"space-y-3"},z={class:"block font-bold"},E=e("div",null,null,-1),q={class:"col-span-6 sm:col-span-4"},Z={__name:"apitoken",setup(G){const m=k([]),t=g({token_name:null}),p=()=>{t.post(route("settings.api-tokens.store"),{errorBag:"generateToken",preserveScroll:!0,onSuccess:()=>d()})};function d(){axios.get("/currentusers/tokens").then(i=>{m.value=i.data})}function f(i){axios.delete(route("settings.api-tokens.delete",{id:i})).then(_=>{d()})}return h(()=>{d()}),(i,_)=>(n(),l("section",S,[m.value.length!=0?(n(),l("div",I,[P,e("div",D,[e("div",F,[e("ul",j,[(n(!0),l(v,null,x(m.value,s=>(n(),l("li",{class:"md:flex justify-between md:space-x-2",key:s.id},[e("div",null,[e("span",z,y(s.name),1),s.created_at?(n(),b(w,{key:0,datess:s.created_at,classes:" text-xs  text-gray-300",befor:""},null,8,["datess"])):u("",!0)]),o(C,{onClick:L=>f(s.id)},{default:a(()=>[c(" Delete Token ")]),_:2},1032,["onClick"])]))),128))]),E])])])):u("",!0),o(N,{onSubmitted:p},{title:a(()=>[c(" API Tokens ")]),description:a(()=>[c(" Create API tokens to access your account over our REST API. ")]),form:a(()=>[e("div",q,[o($,{for:"token_name",value:"Token name"}),o(B,{id:"token_name",modelValue:r(t).token_name,"onUpdate:modelValue":_[0]||(_[0]=s=>r(t).token_name=s),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),o(V,{message:r(t).errors.token_name,class:"mt-2"},null,8,["message"])])]),actions:a(()=>[o(A,{class:T({"opacity-25":r(t).processing}),disabled:r(t).processing},{default:a(()=>[c(" Generate New Token ")]),_:1},8,["class","disabled"])]),_:1})]))}};export{Z as default};
