import{e as L,B as E,J as ke,w as Pe,m as Ee,K as Wr,o as f,j as A,n as F,f as v,D as M,k as c,g as $,u as o,i as I,s as re,F as N,q as D,p as se,z as ee,t as x,M as oe,N as Hr,x as R,O as z,P as zr,Q as Kr,R as Yr}from"./vendor.ab963d2a.js";import{p as Vr,e as Xr,a as Zr,c as Jr,b as Qr,M as Me,g as fe,r as pe,S as Y,d as en,U as Ze,i as B,o as rn,f as nn,h as ge,j as tn,t as X,k as Fe,l as $e,m as Se,n as ne,q as an,s as te,u as V,v as ln,w as mr,x as sn,y as yr,z as he,A as Le,B as on,C as br,D as un,E as de,F as wr,G as cn,H as dn,I as fn,J as xr,K as pn,L as gn,N as hn}from"./_baseFor.6aa121f9.js";var vn=[Xr,Zr,Jr,Qr],mn=Vr({defaultModifiers:vn}),yn="__lodash_hash_undefined__";function bn(e){return this.__data__.set(e,yn),this}function wn(e){return this.__data__.has(e)}function ae(e){var r=-1,n=e==null?0:e.length;for(this.__data__=new Me;++r<n;)this.add(e[r])}ae.prototype.add=ae.prototype.push=bn;ae.prototype.has=wn;function _r(e,r,n,a){for(var s=e.length,t=n+(a?1:-1);a?t--:++t<s;)if(r(e[t],t,e))return t;return-1}function xn(e){return e!==e}function _n(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}function kn(e,r,n){return r===r?_n(e,r,n):_r(e,xn,n)}function Cn(e,r){var n=e==null?0:e.length;return!!n&&kn(e,r,0)>-1}function $n(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}function kr(e,r){return e.has(r)}var Sn=fe(pe,"Set");const K=Sn;function Tn(){}function Be(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}var An=1/0,In=K&&1/Be(new K([,-0]))[1]==An?function(e){return new K(e)}:Tn;const On=In;var Pn=200;function En(e,r,n){var a=-1,s=Cn,t=e.length,l=!0,i=[],d=i;if(n)l=!1,s=$n;else if(t>=Pn){var m=r?null:On(e);if(m)return Be(m);l=!1,s=kr,d=new ae}else d=r?[]:i;e:for(;++a<t;){var h=e[a],p=r?r(h):h;if(h=n||h!==0?h:0,l&&p===p){for(var b=d.length;b--;)if(d[b]===p)continue e;r&&d.push(p),i.push(h)}else s(d,p,n)||(d!==i&&d.push(p),i.push(h))}return i}function Mn(e){return e&&e.length?En(e):[]}function Fn(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}var Ln=1,Bn=2;function Cr(e,r,n,a,s,t){var l=n&Ln,i=e.length,d=r.length;if(i!=d&&!(l&&d>i))return!1;var m=t.get(e),h=t.get(r);if(m&&h)return m==r&&h==e;var p=-1,b=!0,O=n&Bn?new ae:void 0;for(t.set(e,r),t.set(r,e);++p<i;){var P=e[p],T=r[p];if(a)var k=l?a(T,P,p,r,e,t):a(P,T,p,e,r,t);if(k!==void 0){if(k)continue;b=!1;break}if(O){if(!Fn(r,function(S,q){if(!kr(O,q)&&(P===S||s(P,S,n,a,t)))return O.push(q)})){b=!1;break}}else if(!(P===T||s(P,T,n,a,t))){b=!1;break}}return t.delete(e),t.delete(r),b}function Rn(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}var qn=1,Nn=2,Dn="[object Boolean]",jn="[object Date]",Gn="[object Error]",Un="[object Map]",Wn="[object Number]",Hn="[object RegExp]",zn="[object Set]",Kn="[object String]",Yn="[object Symbol]",Vn="[object ArrayBuffer]",Xn="[object DataView]",Je=Y?Y.prototype:void 0,Ce=Je?Je.valueOf:void 0;function Zn(e,r,n,a,s,t,l){switch(n){case Xn:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Vn:return!(e.byteLength!=r.byteLength||!t(new Ze(e),new Ze(r)));case Dn:case jn:case Wn:return en(+e,+r);case Gn:return e.name==r.name&&e.message==r.message;case Hn:case Kn:return e==r+"";case Un:var i=Rn;case zn:var d=a&qn;if(i||(i=Be),e.size!=r.size&&!d)return!1;var m=l.get(e);if(m)return m==r;a|=Nn,l.set(e,r);var h=Cr(i(e),i(r),a,s,t,l);return l.delete(e),h;case Yn:if(Ce)return Ce.call(e)==Ce.call(r)}return!1}function $r(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}function Sr(e,r,n){var a=r(e);return B(e)?a:$r(a,n(e))}function Tr(e,r){for(var n=-1,a=e==null?0:e.length,s=0,t=[];++n<a;){var l=e[n];r(l,n,e)&&(t[s++]=l)}return t}function Ar(){return[]}var Jn=Object.prototype,Qn=Jn.propertyIsEnumerable,Qe=Object.getOwnPropertySymbols,et=Qe?function(e){return e==null?[]:(e=Object(e),Tr(Qe(e),function(r){return Qn.call(e,r)}))}:Ar;const Re=et;var rt=rn(Object.keys,Object);const nt=rt;var tt=Object.prototype,at=tt.hasOwnProperty;function lt(e){if(!nn(e))return nt(e);var r=[];for(var n in Object(e))at.call(e,n)&&n!="constructor"&&r.push(n);return r}function Z(e){return ge(e)?tn(e):lt(e)}function Te(e){return Sr(e,Z,Re)}var st=1,ot=Object.prototype,it=ot.hasOwnProperty;function ut(e,r,n,a,s,t){var l=n&st,i=Te(e),d=i.length,m=Te(r),h=m.length;if(d!=h&&!l)return!1;for(var p=d;p--;){var b=i[p];if(!(l?b in r:it.call(r,b)))return!1}var O=t.get(e),P=t.get(r);if(O&&P)return O==r&&P==e;var T=!0;t.set(e,r),t.set(r,e);for(var k=l;++p<d;){b=i[p];var S=e[b],q=r[b];if(a)var G=l?a(q,S,b,r,e,t):a(S,q,b,e,r,t);if(!(G===void 0?S===q||s(S,q,n,a,t):G)){T=!1;break}k||(k=b=="constructor")}if(T&&!k){var U=e.constructor,W=r.constructor;U!=W&&"constructor"in e&&"constructor"in r&&!(typeof U=="function"&&U instanceof U&&typeof W=="function"&&W instanceof W)&&(T=!1)}return t.delete(e),t.delete(r),T}var ct=fe(pe,"DataView");const Ae=ct;var dt=fe(pe,"Promise");const Ie=dt;var ft=fe(pe,"WeakMap");const Oe=ft;var er="[object Map]",pt="[object Object]",rr="[object Promise]",nr="[object Set]",tr="[object WeakMap]",ar="[object DataView]",gt=X(Ae),ht=X($e),vt=X(Ie),mt=X(K),yt=X(Oe),H=Fe;(Ae&&H(new Ae(new ArrayBuffer(1)))!=ar||$e&&H(new $e)!=er||Ie&&H(Ie.resolve())!=rr||K&&H(new K)!=nr||Oe&&H(new Oe)!=tr)&&(H=function(e){var r=Fe(e),n=r==pt?e.constructor:void 0,a=n?X(n):"";if(a)switch(a){case gt:return ar;case ht:return er;case vt:return rr;case mt:return nr;case yt:return tr}return r});const le=H;var bt=1,lr="[object Arguments]",sr="[object Array]",ue="[object Object]",wt=Object.prototype,or=wt.hasOwnProperty;function xt(e,r,n,a,s,t){var l=B(e),i=B(r),d=l?sr:le(e),m=i?sr:le(r);d=d==lr?ue:d,m=m==lr?ue:m;var h=d==ue,p=m==ue,b=d==m;if(b&&Se(e)){if(!Se(r))return!1;l=!0,h=!1}if(b&&!h)return t||(t=new ne),l||an(e)?Cr(e,r,n,a,s,t):Zn(e,r,d,n,a,s,t);if(!(n&bt)){var O=h&&or.call(e,"__wrapped__"),P=p&&or.call(r,"__wrapped__");if(O||P){var T=O?e.value():e,k=P?r.value():r;return t||(t=new ne),s(T,k,n,a,t)}}return b?(t||(t=new ne),ut(e,r,n,a,s,t)):!1}function ve(e,r,n,a,s){return e===r?!0:e==null||r==null||!te(e)&&!te(r)?e!==e&&r!==r:xt(e,r,n,a,ve,s)}var _t=1,kt=2;function Ct(e,r,n,a){var s=n.length,t=s,l=!a;if(e==null)return!t;for(e=Object(e);s--;){var i=n[s];if(l&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++s<t;){i=n[s];var d=i[0],m=e[d],h=i[1];if(l&&i[2]){if(m===void 0&&!(d in e))return!1}else{var p=new ne;if(a)var b=a(m,h,d,e,r,p);if(!(b===void 0?ve(h,m,_t|kt,a,p):b))return!1}}return!0}function Ir(e){return e===e&&!V(e)}function $t(e){for(var r=Z(e),n=r.length;n--;){var a=r[n],s=e[a];r[n]=[a,s,Ir(s)]}return r}function Or(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}function St(e){var r=$t(e);return r.length==1&&r[0][2]?Or(r[0][0],r[0][1]):function(n){return n===e||Ct(n,e,r)}}var Tt="[object Symbol]";function me(e){return typeof e=="symbol"||te(e)&&Fe(e)==Tt}var At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/;function qe(e,r){if(B(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||me(e)?!0:It.test(e)||!At.test(e)||r!=null&&e in Object(r)}var Ot="Expected a function";function Ne(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Ot);var n=function(){var a=arguments,s=r?r.apply(this,a):a[0],t=n.cache;if(t.has(s))return t.get(s);var l=e.apply(this,a);return n.cache=t.set(s,l)||t,l};return n.cache=new(Ne.Cache||Me),n}Ne.Cache=Me;var Pt=500;function Et(e){var r=Ne(e,function(a){return n.size===Pt&&n.clear(),a}),n=r.cache;return r}var Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ft=/\\(\\)?/g,Lt=Et(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Mt,function(n,a,s,t){r.push(s?t.replace(Ft,"$1"):a||n)}),r});const Bt=Lt;function De(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}var Rt=1/0,ir=Y?Y.prototype:void 0,ur=ir?ir.toString:void 0;function Pr(e){if(typeof e=="string")return e;if(B(e))return De(e,Pr)+"";if(me(e))return ur?ur.call(e):"";var r=e+"";return r=="0"&&1/e==-Rt?"-0":r}function qt(e){return e==null?"":Pr(e)}function ye(e,r){return B(e)?e:qe(e,r)?[e]:Bt(qt(e))}var Nt=1/0;function ie(e){if(typeof e=="string"||me(e))return e;var r=e+"";return r=="0"&&1/e==-Nt?"-0":r}function je(e,r){r=ye(r,e);for(var n=0,a=r.length;e!=null&&n<a;)e=e[ie(r[n++])];return n&&n==a?e:void 0}function Dt(e,r,n){var a=e==null?void 0:je(e,r);return a===void 0?n:a}function jt(e,r){return e!=null&&r in Object(e)}function Gt(e,r,n){r=ye(r,e);for(var a=-1,s=r.length,t=!1;++a<s;){var l=ie(r[a]);if(!(t=e!=null&&n(e,l)))break;e=e[l]}return t||++a!=s?t:(s=e==null?0:e.length,!!s&&ln(s)&&mr(l,s)&&(B(e)||sn(e)))}function Ut(e,r){return e!=null&&Gt(e,r,jt)}var Wt=1,Ht=2;function zt(e,r){return qe(e)&&Ir(r)?Or(ie(e),r):function(n){var a=Dt(n,e);return a===void 0&&a===r?Ut(n,e):ve(r,a,Wt|Ht)}}function Kt(e){return function(r){return r==null?void 0:r[e]}}function Yt(e){return function(r){return je(r,e)}}function Vt(e){return qe(e)?Kt(ie(e)):Yt(e)}function J(e){return typeof e=="function"?e:e==null?yr:typeof e=="object"?B(e)?zt(e[0],e[1]):St(e):Vt(e)}function Xt(e){return function(r,n,a){var s=Object(r);if(!ge(r)){var t=J(n);r=Z(r),n=function(i){return t(s[i],i,s)}}var l=e(r,n,a);return l>-1?s[t?r[l]:l]:void 0}}var Zt=/\s/;function Jt(e){for(var r=e.length;r--&&Zt.test(e.charAt(r)););return r}var Qt=/^\s+/;function ea(e){return e&&e.slice(0,Jt(e)+1).replace(Qt,"")}var cr=0/0,ra=/^[-+]0x[0-9a-f]+$/i,na=/^0b[01]+$/i,ta=/^0o[0-7]+$/i,aa=parseInt;function la(e){if(typeof e=="number")return e;if(me(e))return cr;if(V(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=V(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=ea(e);var n=na.test(e);return n||ta.test(e)?aa(e.slice(2),n?2:8):ra.test(e)?cr:+e}var dr=1/0,sa=17976931348623157e292;function oa(e){if(!e)return e===0?e:0;if(e=la(e),e===dr||e===-dr){var r=e<0?-1:1;return r*sa}return e===e?e:0}function ia(e){var r=oa(e),n=r%1;return r===r?n?r-n:r:0}var ua=Math.max;function ca(e,r,n){var a=e==null?0:e.length;if(!a)return-1;var s=n==null?0:ia(n);return s<0&&(s=ua(a+s,0)),_r(e,J(r),s)}var da=Xt(ca);const fa=da;function Er(e,r){for(var n=-1,a=e==null?0:e.length;++n<a&&r(e[n],n,e)!==!1;);return e}function pa(e,r){return e&&he(r,Z(r),e)}function ga(e,r){return e&&he(r,Le(r),e)}function ha(e,r){return he(e,Re(e),r)}var va=Object.getOwnPropertySymbols,ma=va?function(e){for(var r=[];e;)$r(r,Re(e)),e=on(e);return r}:Ar;const Mr=ma;function ya(e,r){return he(e,Mr(e),r)}function Fr(e){return Sr(e,Le,Mr)}var ba=Object.prototype,wa=ba.hasOwnProperty;function xa(e){var r=e.length,n=new e.constructor(r);return r&&typeof e[0]=="string"&&wa.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function _a(e,r){var n=r?br(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var ka=/\w*$/;function Ca(e){var r=new e.constructor(e.source,ka.exec(e));return r.lastIndex=e.lastIndex,r}var fr=Y?Y.prototype:void 0,pr=fr?fr.valueOf:void 0;function $a(e){return pr?Object(pr.call(e)):{}}var Sa="[object Boolean]",Ta="[object Date]",Aa="[object Map]",Ia="[object Number]",Oa="[object RegExp]",Pa="[object Set]",Ea="[object String]",Ma="[object Symbol]",Fa="[object ArrayBuffer]",La="[object DataView]",Ba="[object Float32Array]",Ra="[object Float64Array]",qa="[object Int8Array]",Na="[object Int16Array]",Da="[object Int32Array]",ja="[object Uint8Array]",Ga="[object Uint8ClampedArray]",Ua="[object Uint16Array]",Wa="[object Uint32Array]";function Ha(e,r,n){var a=e.constructor;switch(r){case Fa:return br(e);case Sa:case Ta:return new a(+e);case La:return _a(e,n);case Ba:case Ra:case qa:case Na:case Da:case ja:case Ga:case Ua:case Wa:return un(e,n);case Aa:return new a;case Ia:case Ea:return new a(e);case Oa:return Ca(e);case Pa:return new a;case Ma:return $a(e)}}var za="[object Map]";function Ka(e){return te(e)&&le(e)==za}var gr=de&&de.isMap,Ya=gr?wr(gr):Ka;const Va=Ya;var Xa="[object Set]";function Za(e){return te(e)&&le(e)==Xa}var hr=de&&de.isSet,Ja=hr?wr(hr):Za;const Qa=Ja;var el=1,rl=2,nl=4,Lr="[object Arguments]",tl="[object Array]",al="[object Boolean]",ll="[object Date]",sl="[object Error]",Br="[object Function]",ol="[object GeneratorFunction]",il="[object Map]",ul="[object Number]",Rr="[object Object]",cl="[object RegExp]",dl="[object Set]",fl="[object String]",pl="[object Symbol]",gl="[object WeakMap]",hl="[object ArrayBuffer]",vl="[object DataView]",ml="[object Float32Array]",yl="[object Float64Array]",bl="[object Int8Array]",wl="[object Int16Array]",xl="[object Int32Array]",_l="[object Uint8Array]",kl="[object Uint8ClampedArray]",Cl="[object Uint16Array]",$l="[object Uint32Array]",w={};w[Lr]=w[tl]=w[hl]=w[vl]=w[al]=w[ll]=w[ml]=w[yl]=w[bl]=w[wl]=w[xl]=w[il]=w[ul]=w[Rr]=w[cl]=w[dl]=w[fl]=w[pl]=w[_l]=w[kl]=w[Cl]=w[$l]=!0;w[sl]=w[Br]=w[gl]=!1;function ce(e,r,n,a,s,t){var l,i=r&el,d=r&rl,m=r&nl;if(n&&(l=s?n(e,a,s,t):n(e)),l!==void 0)return l;if(!V(e))return e;var h=B(e);if(h){if(l=xa(e),!i)return cn(e,l)}else{var p=le(e),b=p==Br||p==ol;if(Se(e))return dn(e,i);if(p==Rr||p==Lr||b&&!s){if(l=d||b?{}:fn(e),!i)return d?ya(e,ga(l,e)):ha(e,pa(l,e))}else{if(!w[p])return s?e:{};l=Ha(e,p,i)}}t||(t=new ne);var O=t.get(e);if(O)return O;t.set(e,l),Qa(e)?e.forEach(function(k){l.add(ce(k,r,n,k,e,t))}):Va(e)&&e.forEach(function(k,S){l.set(S,ce(k,r,n,S,e,t))});var P=m?d?Fr:Te:d?Le:Z,T=h?void 0:P(e);return Er(T||e,function(k,S){T&&(S=k,k=e[S]),xr(l,S,ce(k,r,n,S,e,t))}),l}var Sl=4;function Tl(e){return ce(e,Sl)}function qr(e,r){return e&&pn(e,r,Z)}function Al(e,r){return function(n,a){if(n==null)return n;if(!ge(n))return e(n,a);for(var s=n.length,t=r?s:-1,l=Object(n);(r?t--:++t<s)&&a(l[t],t,l)!==!1;);return n}}var Il=Al(qr);const Ge=Il;function Ol(e,r){var n=[];return Ge(e,function(a,s,t){r(a,s,t)&&n.push(a)}),n}function Pl(e,r){var n=B(e)?Tr:Ol;return n(e,J(r))}function El(e,r,n){var a;return n(e,function(s,t,l){if(r(s,t,l))return a=t,!1}),a}function Ml(e,r){return El(e,J(r),qr)}function Fl(e){return typeof e=="function"?e:yr}function j(e,r){var n=B(e)?Er:Ge;return n(e,Fl(r))}function Ll(e,r){return ve(e,r)}function Bl(e,r){var n=-1,a=ge(e)?Array(e.length):[];return Ge(e,function(s,t,l){a[++n]=r(s,t,l)}),a}function Rl(e,r){var n=B(e)?De:Bl;return n(e,J(r))}function ql(e,r,n,a){if(!V(e))return e;r=ye(r,e);for(var s=-1,t=r.length,l=t-1,i=e;i!=null&&++s<t;){var d=ie(r[s]),m=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(s!=l){var h=i[d];m=a?a(h,d,i):void 0,m===void 0&&(m=V(h)?h:mr(r[s+1])?[]:{})}xr(i,d,m),i=i[d]}return e}function Nl(e,r,n){for(var a=-1,s=r.length,t={};++a<s;){var l=r[a],i=je(e,l);n(i,l)&&ql(t,ye(l,e),i)}return t}function Dl(e,r){if(e==null)return{};var n=De(Fr(e),function(a){return[a]});return r=J(r),Nl(e,n,function(a,s){return r(a,s[0])})}const jl={__name:"OnClickOutside",props:{do:{type:Function,required:!0}},setup(e){const r=e,n=L(null),a=L(null);return Ee(()=>{n.value=s=>{s.target===a.value||a.value.contains(s.target)||r.do()},document.addEventListener("click",n.value),document.addEventListener("touchstart",n.value)}),Yr(()=>{document.removeEventListener("click",n.value),document.removeEventListener("touchstart",n.value)}),(s,t)=>(f(),v("div",{ref_key:"root",ref:a},[$(s.$slots,"default")],512))}},Gl={class:"relative"},Ul=["dusk","disabled","onClick"],Wl={class:"mt-2 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5"},Ue={__name:"ButtonWithDropdown",props:{placement:{type:String,default:"bottom-start",required:!1},active:{type:Boolean,default:!1,required:!1},dusk:{type:String,default:null,required:!1},disabled:{type:Boolean,default:!1,required:!1}},setup(e,{expose:r}){const n=e,a=L(!1),s=L(null);function t(){a.value=!a.value}function l(){a.value=!1}Pe(a,()=>{s.value.update()});const i=L(null),d=L(null);return Ee(()=>{s.value=mn(i.value,d.value,{placement:n.placement,modifiers:[gn,hn]})}),r({hide:l}),(m,h)=>(f(),A(jl,{do:l},{default:F(()=>[c("div",Gl,[c("button",{ref_key:"button",ref:i,type:"button",dusk:e.dusk,disabled:e.disabled,class:M(["w-full bg-white border rounded-md shadow-sm px-4 py-2 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",{"border-green-300":e.active,"border-gray-300":!e.active,"cursor-not-allowed":e.disabled}]),"aria-haspopup":"true",onClick:R(t,["prevent"])},[$(m.$slots,"button")],10,Ul),se(c("div",{ref_key:"tooltip",ref:d,class:"absolute z-10"},[c("div",Wl,[$(m.$slots,"default")])],512),[[oe,a.value]])])]),_:3}))}},Hl={class:"flex flex-row items-center"},zl={class:"uppercase"},Kl=["sorted"],Yl={key:0,fill:"currentColor",d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},Vl={key:1,fill:"currentColor",d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},Xl={key:2,fill:"currentColor",d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},Zl={__name:"HeaderCell",props:{cell:{type:Object,required:!0}},setup(e){const r=e;function n(){r.cell.sortable&&r.cell.onSort(r.cell.key)}return(a,s)=>se((f(),v("th",null,[(f(),A(z(e.cell.sortable?"button":"div"),{class:"py-3 px-6 w-full",dusk:e.cell.sortable?`sort-${e.cell.key}`:null,onClick:R(n,["prevent"])},{default:F(()=>[c("span",Hl,[$(a.$slots,"label",{},()=>[c("span",zl,x(e.cell.label),1)]),$(a.$slots,"sort",{},()=>[e.cell.sortable?(f(),v("svg",{key:0,"aria-hidden":"true",class:M(["w-3 h-3 ml-2",{"text-gray-400":!e.cell.sorted,"text-green-500":e.cell.sorted}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",sorted:e.cell.sorted},[e.cell.sorted?I("",!0):(f(),v("path",Yl)),e.cell.sorted==="asc"?(f(),v("path",Vl)):I("",!0),e.cell.sorted==="desc"?(f(),v("path",Xl)):I("",!0)],10,Kl)):I("",!0)])])]),_:3},8,["dusk","onClick"]))],512)),[[oe,!e.cell.hidden]])}},Jl={translations:{next:"Next",no_results_found:"No results found",of:"of",per_page:"per page",previous:"Previous",results:"results",to:"to"}};function Nr(){return Jl.translations}const Ql=["dusk","value"],es=["value"],vr={__name:"PerPageSelector",props:{dusk:{type:String,default:null,required:!1},value:{type:Number,default:15,required:!1},options:{type:Array,default(){return[15,30,50,100]},required:!1},onChange:{type:Function,required:!0}},setup(e){const r=e,n=Nr(),a=E(()=>{let s=[...r.options];return s.push(parseInt(r.value)),Mn(s).sort((t,l)=>t-l)});return(s,t)=>(f(),v("select",{name:"per_page",dusk:e.dusk,value:e.value,class:"block focus:ring-indigo-500 focus:border-indigo-500 min-w-max shadow-sm text-sm border-gray-300 rounded-md",onChange:t[0]||(t[0]=l=>e.onChange(l.target.value))},[(f(!0),v(N,null,D(o(a),l=>(f(),v("option",{key:l,value:l},x(l)+" "+x(o(n).per_page),9,es))),128))],40,Ql))}},rs={key:0,class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},ns={key:0},ts=c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})],-1),as={class:"hidden sm:inline ml-2"},ls={class:"hidden sm:inline mr-2"},ss=c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 8l4 4m0 0l-4 4m4-4H3"})],-1),os={key:2,class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},is={class:"flex flex-row space-x-4 items-center flex-grow"},us={class:"hidden lg:block text-sm text-gray-700 flex-grow"},cs={class:"font-medium"},ds={class:"font-medium"},fs={class:"font-medium"},ps={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},gs={class:"sr-only"},hs=c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),vs={class:"sr-only"},ms=c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),ys={__name:"Pagination",props:{onClick:{type:Function,required:!1},perPageOptions:{type:Array,default(){return()=>[15,30,50,100]},required:!1},onPerPageChange:{type:Function,default(){return()=>{}},required:!1},hasData:{type:Boolean,required:!0},meta:{type:Object,required:!1}},setup(e){const r=e,n=Nr(),a=E(()=>"links"in t.value?t.value.links.length>0:!1),s=E(()=>Object.keys(t.value).length>0),t=E(()=>r.meta),l=E(()=>"prev_page_url"in t.value?t.value.prev_page_url:null),i=E(()=>"next_page_url"in t.value?t.value.next_page_url:null),d=E(()=>parseInt(t.value.per_page));return(m,h)=>o(s)?(f(),v("nav",rs,[!e.hasData||o(t).total<1?(f(),v("p",ns,x(o(n).no_results_found),1)):I("",!0),e.hasData?(f(),v("div",{key:1,class:M(["flex-1 flex justify-between",{"sm:hidden":o(a)}])},[(f(),A(z(o(l)?"a":"div"),{class:M([{"cursor-not-allowed text-gray-400":!o(l),"text-gray-700 hover:text-gray-500":o(l)},"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md bg-white"]),href:o(l),dusk:o(l)?"pagination-simple-previous":null,onClick:h[0]||(h[0]=R(p=>e.onClick(o(l)),["prevent"]))},{default:F(()=>[ts,c("span",as,x(o(n).previous),1)]),_:1},8,["class","href","dusk"])),re(vr,{dusk:"per-page-mobile",value:o(d),options:e.perPageOptions,"on-change":e.onPerPageChange},null,8,["value","options","on-change"]),(f(),A(z(o(i)?"a":"div"),{class:M([{"cursor-not-allowed text-gray-400":!o(i),"text-gray-700 hover:text-gray-500":o(i)},"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md bg-white"]),href:o(i),dusk:o(i)?"pagination-simple-next":null,onClick:h[1]||(h[1]=R(p=>e.onClick(o(i)),["prevent"]))},{default:F(()=>[c("span",ls,x(o(n).next),1),ss]),_:1},8,["class","href","dusk"]))],2)):I("",!0),e.hasData&&o(a)?(f(),v("div",os,[c("div",is,[re(vr,{dusk:"per-page-full",value:o(d),options:e.perPageOptions,"on-change":e.onPerPageChange},null,8,["value","options","on-change"]),c("p",us,[c("span",cs,x(o(t).from),1),ee(" "+x(o(n).to)+" ",1),c("span",ds,x(o(t).to),1),ee(" "+x(o(n).of)+" ",1),c("span",fs,x(o(t).total),1),ee(" "+x(o(n).results),1)])]),c("div",null,[c("nav",ps,[(f(),A(z(o(l)?"a":"div"),{class:M([{"cursor-not-allowed text-gray-400":!o(l),"text-gray-500 hover:bg-gray-50":o(l)},"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium"]),href:o(l),dusk:o(l)?"pagination-previous":null,onClick:h[2]||(h[2]=R(p=>e.onClick(o(l)),["prevent"]))},{default:F(()=>[c("span",gs,x(o(n).previous),1),hs]),_:1},8,["class","href","dusk"])),(f(!0),v(N,null,D(o(t).links,(p,b)=>(f(),v("div",{key:b},[$(m.$slots,"link",{},()=>[!isNaN(p.label)||p.label==="..."?(f(),A(z(p.url?"a":"div"),{key:0,href:p.url,dusk:p.url?`pagination-${p.label}`:null,class:M(["relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",{"cursor-not-allowed":!p.url,"hover:bg-gray-50":p.url,"bg-gray-100":p.active}]),onClick:R(O=>e.onClick(p.url),["prevent"])},{default:F(()=>[ee(x(p.label),1)]),_:2},1032,["href","dusk","class","onClick"])):I("",!0)])]))),128)),(f(),A(z(o(i)?"a":"div"),{class:M([{"cursor-not-allowed text-gray-400":!o(i),"text-gray-500 hover:bg-gray-50":o(i)},"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium"]),href:o(i),dusk:o(i)?"pagination-next":null,onClick:h[3]||(h[3]=R(p=>e.onClick(o(i)),["prevent"]))},{default:F(()=>[c("span",vs,x(o(n).next),1),ms]),_:1},8,["class","href","dusk"]))])])])):I("",!0)])):I("",!0)}},bs=c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})],-1),ws={role:"menu","aria-orientation":"horizontal","aria-labelledby":"add-search-input-menu",class:"min-w-max"},xs=["dusk","onClick"],_s={__name:"TableAddSearchRow",props:{searchInputs:{type:Object,required:!0},hasSearchInputsWithoutValue:{type:Boolean,required:!0},onAdd:{type:Function,required:!0}},setup(e){const r=e,n=L(null);function a(s){r.onAdd(s),n.value.hide()}return(s,t)=>(f(),A(Ue,{ref_key:"dropdown",ref:n,dusk:"add-search-row-dropdown",disabled:!e.hasSearchInputsWithoutValue,class:"w-auto"},{button:F(()=>[bs]),default:F(()=>[c("div",ws,[(f(!0),v(N,null,D(e.searchInputs,(l,i)=>(f(),v("button",{key:i,dusk:`add-search-row-${l.key}`,class:"text-left w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",onClick:R(d=>a(l.key),["prevent"])},x(l.label),9,xs))),128))])]),_:1},8,["disabled"]))}},ks=c("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"},null,-1),Cs=c("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"},null,-1),$s=[ks,Cs],Ss={role:"menu","aria-orientation":"horizontal","aria-labelledby":"toggle-columns-menu",class:"min-w-max"},Ts={class:"px-2"},As={class:"divide-y divide-gray-200"},Is={class:"text-sm text-gray-900"},Os=["aria-pressed","aria-labelledby","aria-describedby","dusk","onClick"],Ps=c("span",{class:"sr-only"},"Column status",-1),Es={__name:"TableColumns",props:{columns:{type:Object,required:!0},hasHiddenColumns:{type:Boolean,required:!0},onChange:{type:Function,required:!0}},setup(e){const r=e;return(n,a)=>(f(),A(Ue,{placement:"bottom-end",dusk:"columns-dropdown",active:e.hasHiddenColumns},{button:F(()=>[(f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",class:M(["h-5 w-5",{"text-gray-400":!e.hasHiddenColumns,"text-green-400":e.hasHiddenColumns}]),viewBox:"0 0 20 20",fill:"currentColor"},$s,2))]),default:F(()=>[c("div",Ss,[c("div",Ts,[c("ul",As,[(f(!0),v(N,null,D(r.columns,(s,t)=>se((f(),v("li",{key:t,class:"py-2 flex items-center justify-between"},[c("p",Is,x(s.label),1),c("button",{type:"button",class:M(["ml-4 relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-light-blue-500",{"bg-green-500":!s.hidden,"bg-gray-200":s.hidden}]),"aria-pressed":!s.hidden,"aria-labelledby":`toggle-column-${s.key}`,"aria-describedby":`toggle-column-${s.key}`,dusk:`toggle-column-${s.key}`,onClick:R(l=>e.onChange(s.key,s.hidden),["prevent"])},[Ps,c("span",{"aria-hidden":"true",class:M([{"translate-x-5":!s.hidden,"translate-x-0":s.hidden},"inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"])},null,2)],10,Os)])),[[oe,s.can_be_hidden]])),128))])])])]),_:1},8,["active"]))}},Ms=c("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"},null,-1),Fs=[Ms],Ls={role:"menu","aria-orientation":"horizontal","aria-labelledby":"filter-menu",class:"min-w-max"},Bs={class:"text-xs uppercase tracking-wide bg-gray-100 p-3"},Rs={class:"p-2"},qs=["name","value","onChange"],Ns=["value"],Ds={__name:"TableFilter",props:{hasEnabledFilters:{type:Boolean,required:!0},filters:{type:Object,required:!0},onFilterChange:{type:Function,required:!0}},setup(e){return(r,n)=>(f(),A(Ue,{placement:"bottom-end",dusk:"filters-dropdown",active:e.hasEnabledFilters},{button:F(()=>[(f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",class:M(["h-5 w-5",{"text-gray-400":!e.hasEnabledFilters,"text-green-400":e.hasEnabledFilters}]),viewBox:"0 0 20 20",fill:"currentColor"},Fs,2))]),default:F(()=>[c("div",Ls,[(f(!0),v(N,null,D(e.filters,(a,s)=>(f(),v("div",{key:s},[c("h3",Bs,x(a.label),1),c("div",Rs,[a.type==="select"?(f(),v("select",{key:0,name:a.key,value:a.value,class:"block focus:ring-indigo-500 focus:border-indigo-500 w-full shadow-sm text-sm border-gray-300 rounded-md",onChange:t=>e.onFilterChange(a.key,t.target.value)},[(f(!0),v(N,null,D(a.options,(t,l)=>(f(),v("option",{key:l,value:l},x(t),9,Ns))),128))],40,qs)):I("",!0)])]))),128))])]),_:1},8,["active"]))}},js={class:"relative"},Gs=["placeholder","value"],Us=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),Ws={__name:"TableGlobalSearch",props:{label:{type:String,default:"Search...",required:!1},value:{type:String,default:"",required:!1},onChange:{type:Function,required:!0}},setup(e){return(r,n)=>(f(),v("div",js,[c("input",{class:"block w-full pl-9 text-sm rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300",placeholder:e.label,value:e.value,type:"text",name:"global",onInput:n[0]||(n[0]=a=>e.onChange(a.target.value))},null,40,Gs),Us]))}},Hs={class:"flex rounded-md shadow-sm relative mt-3"},zs=["for"],Ks=c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})],-1),Ys=["id","name","value","onInput"],Vs={class:"absolute inset-y-0 right-0 pr-3 flex items-center"},Xs=["dusk","onClick"],Zs=c("span",{class:"sr-only"},"Remove search",-1),Js=c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Qs=[Zs,Js],eo={__name:"TableSearchRows",props:{searchInputs:{type:Object,required:!0},forcedVisibleSearchInputs:{type:Array,required:!0},onChange:{type:Function,required:!0},onRemove:{type:Function,required:!0}},setup(e){const r=e,n={el:L([])};let a=E(()=>n.el.value);function s(t){return r.forcedVisibleSearchInputs.includes(t)}return Pe(r.forcedVisibleSearchInputs,t=>{const l=t.length>0?t[t.length-1]:null;!l||zr().then(()=>{const i=fa(a.value,d=>d.__vnode.key===l);i&&i.focus()})},{immediate:!0}),(t,l)=>(f(!0),v(N,null,D(e.searchInputs,(i,d)=>se((f(),v("div",{key:d,class:"px-4 sm:px-0"},[c("div",Hs,[c("label",{for:i.key,class:"inline-flex items-center px-4 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"},[Ks,c("span",null,x(i.label),1)],8,zs),(f(),v("input",{id:i.key,ref_for:!0,ref:n.el,key:i.key,name:i.key,value:i.value,type:"text",class:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 text-sm border-gray-300",onInput:m=>e.onChange(i.key,m.target.value)},null,40,Ys)),c("div",Vs,[c("button",{class:"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",dusk:`remove-search-row-${i.key}`,onClick:R(m=>e.onRemove(i.key),["prevent"])},Qs,8,Xs)])])])),[[oe,i.value!==null||s(i.key)]])),128))}},ro=c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),no=c("span",null,"Reset",-1),to=[ro,no],ao={__name:"TableReset",props:{onClick:{type:Function,required:!0}},setup(e){return(r,n)=>(f(),v("button",{ref:"button",type:"button",dusk:"reset-table",class:"w-full bg-white border rounded-md shadow-sm px-4 py-2 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 border-gray-300","aria-haspopup":"true",onClick:n[0]||(n[0]=R((...a)=>e.onClick&&e.onClick(...a),["prevent"]))},to,512))}},lo=(e,r)=>{const n=e.__vccOpts||e;for(const[a,s]of r)n[a]=s;return n},so={},oo={class:"flex flex-col"},io={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},uo={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},co={class:"shadow border-b border-gray-200 relative"};function fo(e,r){return f(),v("div",oo,[c("div",io,[c("div",uo,[c("div",co,[$(e.$slots,"default")])])])])}const po=lo(so,[["render",fo]]),go=["dusk"],ho={class:"flex flex-row flex-wrap sm:flex-nowrap justify-start px-4 sm:px-0"},vo={class:"order-2 sm:order-1 mr-2 sm:mr-4"},mo={key:0,class:"flex flex-row w-full sm:w-auto sm:flex-grow order-1 sm:order-2 mb-2 sm:mb-0 sm:mr-4"},yo={key:0,class:"order-5 sm:order-3 sm:mr-4 ml-auto"},bo={class:"min-w-full divide-y divide-gray-200 bg-white"},wo={class:"bg-gray-50"},xo={class:"font-medium text-xs uppercase text-left tracking-wider text-gray-500 py-3 px-6"},_o={class:"bg-white divide-y divide-gray-200"},$o={__name:"Table",props:{inertia:{type:Object,default:()=>({}),required:!1},name:{type:String,default:"default",required:!1},striped:{type:Boolean,default:!1,required:!1},preventOverlappingRequests:{type:Boolean,default:!0,required:!1},inputDebounceMs:{type:Number,default:350,required:!1},preserveScroll:{type:[Boolean,String],default:!1,required:!1},resource:{type:Object,default:()=>({}),required:!1},meta:{type:Object,default:()=>({}),required:!1},data:{type:Object,default:()=>({}),required:!1}},setup(e){const r=e,n=Kr(),a=n?n.appContext.config.globalProperties.$inertia:r.inertia,s=L(0),t=E(()=>{let u=a.page.props.queryBuilderProps?a.page.props.queryBuilderProps[r.name]||{}:{};return u._updates=s.value,u}),l=L(t.value),i=E(()=>t.value.pageName),d=L([]),m=L(null),h=E(()=>!(t.value.hasToggleableColumns||t.value.hasFilters||t.value.hasSearchInputs||t.value.globalSearch)),p=E(()=>Object.keys(r.resource).length===0?r.data:"data"in r.resource?r.resource.data:r.resource),b=E(()=>Object.keys(r.resource).length===0?r.meta:"links"in r.resource&&"meta"in r.resource&&Object.keys(r.resource.links).length===4&&"next"in r.resource.links&&"prev"in r.resource.links?{...r.resource.meta,next_page_url:r.resource.links.next,prev_page_url:r.resource.links.prev}:"meta"in r.resource?r.resource.meta:r.resource),O=E(()=>p.value.length>0||b.value.total>0);function P(u){d.value=d.value.filter(g=>g!=u),G(u,null)}function T(u){d.value.push(u)}const k=E(()=>{if(d.value.length>0)return!0;const u=ke.parse(location.search.substring(1));if(u[i.value]>1)return!0;const g=r.name==="default"?"":r.name+"_";let y=!1;return j(["filter","columns","cursor","sort"],_=>{const C=u[g+_];_==="sort"&&C===t.value.defaultSort||C!==void 0&&(y=!0)}),y});function S(){d.value=[],j(l.value.filters,(u,g)=>{l.value.filters[g].value=null}),j(l.value.searchInputs,(u,g)=>{l.value.searchInputs[g].value=null}),j(l.value.columns,(u,g)=>{l.value.columns[g].hidden=u.can_be_hidden?!t.value.defaultVisibleToggleableColumns.includes(u.key):!1}),l.value.sort=null,l.value.cursor=null,l.value.page=1}const q={};function G(u,g){clearTimeout(q[u]),q[u]=setTimeout(()=>{we.value&&r.preventOverlappingRequests&&we.value.cancel();const y=Q("searchInputs",u);l.value.searchInputs[y].value=g,l.value.cursor=null,l.value.page=1},r.inputDebounceMs)}function U(u){G("global",u)}function W(u,g){const y=Q("filters",u);l.value.filters[y].value=g,l.value.cursor=null,l.value.page=1}function We(u){l.value.cursor=null,l.value.perPage=u,l.value.page=1}function Q(u,g){return Ml(l.value[u],y=>y.key==g)}function He(u,g){const y=Q("columns",u);l.value.columns[y].hidden=!g}function Dr(){let u={};return j(l.value.searchInputs,g=>{g.value!==null&&(u[g.key]=g.value)}),j(l.value.filters,g=>{g.value!==null&&(u[g.key]=g.value)}),u}function jr(){const u=l.value.columns;let g=Pl(u,_=>!_.hidden),y=Rl(g,_=>_.key).sort();return Ll(y,t.value.defaultVisibleToggleableColumns)?{}:y}function Gr(){const u=Dr(),g=jr(),y={};Object.keys(u).length>0&&(y.filter=u),Object.keys(g).length>0&&(y.columns=g);const _=l.value.cursor,C=l.value.page,Ve=l.value.sort,Xe=l.value.perPage;return _&&(y.cursor=_),C>1&&(y.page=C),Xe>1&&(y.perPage=Xe),Ve&&(y.sort=Ve),y}function Ur(){const u=ke.parse(location.search.substring(1)),g=r.name==="default"?"":r.name+"_";j(["filter","columns","cursor","sort"],_=>{delete u[g+_]}),delete u[i.value],j(Gr(),(_,C)=>{C==="page"?u[i.value]=_:C==="perPage"?u.perPage=_:u[g+C]=_});let y=ke.stringify(u,{filter(_,C){return typeof C=="object"&&C!==null?Dl(C):C},skipNulls:!0,strictNullHandling:!0});return(!y||y===i.value+"=1")&&(y=""),y}const be=L(!1),we=L(null);function xe(u){!u||a.get(u,{},{replace:!0,preserveState:!0,preserveScroll:r.preserveScroll!==!1,onBefore(){be.value=!0},onCancelToken(g){we.value=g},onFinish(){be.value=!1},onSuccess(){if("queryBuilderProps"in a.page.props&&(l.value.cursor=t.value.cursor,l.value.page=t.value.page),r.preserveScroll==="table-top"){const g=m.value.getBoundingClientRect().top+window.pageYOffset+-8;window.scrollTo({top:g})}s.value++}})}Pe(l,()=>{xe(location.pathname+"?"+Ur())},{deep:!0});const ze=()=>{s.value++};Ee(()=>{document.addEventListener("inertia:success",ze)}),Wr(()=>{document.removeEventListener("inertia:success",ze)});function Ke(u){l.value.sort==u?l.value.sort=`-${u}`:l.value.sort=u,l.value.cursor=null,l.value.page=1}function _e(u){const g=Q("columns",u);return!l.value.columns[g].hidden}function Ye(u){const g=Q("columns",u),y=Tl(t.value.columns[g]);return y.onSort=Ke,y}return(u,g)=>(f(),A(Hr,null,{default:F(()=>[(f(),v("fieldset",{ref_key:"tableFieldset",ref:m,key:`table-${e.name}`,dusk:`table-${e.name}`,class:M(["min-w-0",{"opacity-75":be.value}])},[c("div",ho,[c("div",vo,[$(u.$slots,"tableFilter",{hasFilters:o(t).hasFilters,hasEnabledFilters:o(t).hasEnabledFilters,filters:o(t).filters,onFilterChange:W},()=>[o(t).hasFilters?(f(),A(Ds,{key:0,"has-enabled-filters":o(t).hasEnabledFilters,filters:o(t).filters,"on-filter-change":W},null,8,["has-enabled-filters","filters"])):I("",!0)])]),o(t).globalSearch?(f(),v("div",mo,[$(u.$slots,"tableGlobalSearch",{hasGlobalSearch:o(t).globalSearch,label:o(t).globalSearch?o(t).globalSearch.label:null,value:o(t).globalSearch?o(t).globalSearch.value:null,onChange:U},()=>[o(t).globalSearch?(f(),A(Ws,{key:0,class:"flex-grow",label:o(t).globalSearch.label,value:o(t).globalSearch.value,"on-change":U},null,8,["label","value"])):I("",!0)])])):I("",!0),$(u.$slots,"tableReset",{canBeReset:"canBeReset",onClick:S},()=>[o(k)?(f(),v("div",yo,[re(ao,{"on-click":S})])):I("",!0)]),$(u.$slots,"tableAddSearchRow",{hasSearchInputs:o(t).hasSearchInputs,hasSearchInputsWithoutValue:o(t).hasSearchInputsWithoutValue,searchInputs:o(t).searchInputsWithoutGlobal,onAdd:T},()=>[o(t).hasSearchInputs?(f(),A(_s,{key:0,class:"order-3 sm:order-4 mr-2 sm:mr-4","search-inputs":o(t).searchInputsWithoutGlobal,"has-search-inputs-without-value":o(t).hasSearchInputsWithoutValue,"on-add":T},null,8,["search-inputs","has-search-inputs-without-value"])):I("",!0)]),$(u.$slots,"tableColumns",{hasColumns:o(t).hasToggleableColumns,columns:o(t).columns,hasHiddenColumns:o(t).hasHiddenColumns,onChange:He},()=>[o(t).hasToggleableColumns?(f(),A(Es,{key:0,class:"order-4 mr-4 sm:mr-0 sm:order-5",columns:o(t).columns,"has-hidden-columns":o(t).hasHiddenColumns,"on-change":He},null,8,["columns","has-hidden-columns"])):I("",!0)])]),$(u.$slots,"tableSearchRows",{hasSearchRowsWithValue:o(t).hasSearchInputsWithValue,searchInputs:o(t).searchInputsWithoutGlobal,forcedVisibleSearchInputs:d.value,onChange:G},()=>[o(t).hasSearchInputsWithValue||d.value.length>0?(f(),A(eo,{key:0,"search-inputs":o(t).searchInputsWithoutGlobal,"forced-visible-search-inputs":d.value,"on-change":G,"on-remove":P},null,8,["search-inputs","forced-visible-search-inputs"])):I("",!0)]),$(u.$slots,"tableWrapper",{meta:o(b)},()=>[re(po,{class:M({"mt-3":!o(h)})},{default:F(()=>[$(u.$slots,"table",{},()=>[c("table",bo,[c("thead",wo,[$(u.$slots,"head",{show:_e,sortBy:Ke,header:Ye},()=>[c("tr",xo,[(f(!0),v(N,null,D(o(t).columns,y=>(f(),A(Zl,{key:`table-${e.name}-header-${y.key}`,cell:Ye(y.key)},null,8,["cell"]))),128))])])]),c("tbody",_o,[$(u.$slots,"body",{show:_e},()=>[(f(!0),v(N,null,D(o(p),(y,_)=>(f(),v("tr",{key:`table-${e.name}-row-${_}`,class:M(["",{"bg-gray-50":e.striped&&_%2,"hover:bg-gray-100":e.striped,"hover:bg-gray-50":!e.striped}])},[(f(!0),v(N,null,D(o(t).columns,C=>se((f(),v("td",{key:`table-${e.name}-row-${_}-column-${C.key}`,class:"text-sm py-4 px-6 text-gray-500 whitespace-nowrap"},[$(u.$slots,`cell(${C.key})`,{item:y},()=>[ee(x(y[C.key]),1)])])),[[oe,_e(C.key)]])),128))],2))),128))])])])]),$(u.$slots,"pagination",{onClick:xe,hasData:o(O),meta:o(b),perPageOptions:o(t).perPageOptions,onPerPageChange:We},()=>[re(ys,{"on-click":xe,"has-data":o(O),meta:o(b),"per-page-options":o(t).perPageOptions,"on-per-page-change":We},null,8,["has-data","meta","per-page-options"])])]),_:3},8,["class"])])],10,go))]),_:3}))}};export{$o as F};
